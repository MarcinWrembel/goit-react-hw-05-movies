{"version":3,"file":"static/js/841.96b4c0d5.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/spinner/Spinner.module.css?a11c","components/spinner/Spinner.js","functions/api.js","hooks/fetchMovieDetails.js","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loaderWrapper\":\"Spinner_loaderWrapper__OsG+c\",\"loader\":\"Spinner_loader__yCPuB\"};","\nimport { BallTriangle } from 'react-loader-spinner';\nimport css from './Spinner.module.css';\nimport React from 'react';\n\n const Spinner = () => (\n  <div className={css.loaderWrapper}>\n    <BallTriangle\n      height={100}\n      width={100}\n      radius={5}\n      color=\"#3f51b5\"\n      ariaLabel=\"ball-triangle-loading\"\n      wrapperClass={{}}\n      wrapperStyle=\"\"\n      visible={true}\n      className={css.loader}\n    />\n  </div>\n);\n\nexport default Spinner;","import axios from 'axios';\n\nconst fetchMovie = async url => {\n  try {\n    const response = await axios.get(url);\n    return response;\n  } catch (error) {\n\n  }\n};\n\n\nexport default fetchMovie;\n","import fetchMovie from 'functions/api';\nimport { useEffect, useState } from 'react';\nimport base from '../data/api.json';\n\nconst useMovieDetails = movie_id => {\n  const [movieDetails, setMovieDetails] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchMovieDetails = async () => {\n      const url = ''.concat(\n        base.baseUrl,\n        'movie/',\n        movie_id,\n        '?api_key=',\n        base.KEY,\n        '&language=en-US'\n      );\n\n      try {\n        const movieDetails = await fetchMovie(url);\n\n        if (!movie_id) {\n          setMovieDetails(null);\n          return;\n        }\n\n        setMovieDetails(movieDetails.data);\n\n        if (!movieDetails) {\n          throw new Error('Getting detailed data is impossible in that moment');\n        }\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    setError(null);\n    setIsLoading(true);\n    fetchMovieDetails();\n  }, [movie_id]);\n\n  return { isLoading, error, movieDetails };\n};\n\nexport default useMovieDetails;\n","// extracted by mini-css-extract-plugin\nexport default {\"movie\":\"MovieDetails_movie__9X7I7\",\"movieWrapper\":\"MovieDetails_movieWrapper__u2mNI\",\"movieLink\":\"MovieDetails_movieLink__l6IV8\",\"movieImg\":\"MovieDetails_movieImg__5UJtY\",\"movieDesc\":\"MovieDetails_movieDesc__dvnXd\",\"movieDescTitle\":\"MovieDetails_movieDescTitle__Ta0SL\",\"movieDescCategory\":\"MovieDetails_movieDescCategory__O1HUz\",\"movieDescInfo\":\"MovieDetails_movieDescInfo__eMnCX\",\"movieOthers\":\"MovieDetails_movieOthers__M5zbH\",\"movieOthersList\":\"MovieDetails_movieOthersList__BAM1b\",\"movieOthersListLink\":\"MovieDetails_movieOthersListLink__S-AYc\",\"movieOthersListItem\":\"MovieDetails_movieOthersListItem__ibq+t\"};","import useMovieDetails from 'hooks/fetchMovieDetails';\nimport css from './MovieDetails.module.css';\nimport { useParams, Outlet, NavLink } from 'react-router-dom';\n// import { useNavigate } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\n\nimport base from '../../data/api.json';\nimport styled from 'styled-components';\nimport Spinner from 'components/spinner/Spinner';\nimport { Suspense } from 'react';\nimport PropTypes from 'prop-types'\n\nconst StyledMovieLink = styled(NavLink)`\n  color: black;\n\n  &.active {\n    color: white;\n  }\n`;\n\nconst MovieDetails = () => {\n  const { movieID } = useParams();\n  const { isLoading, error, movieDetails } = useMovieDetails(movieID);\n  //   const navigate = useNavigate();\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n\n  let avg_votes = 0;\n  let imgSrc = '';\n  let genres = '';\n\n  //   const handleClick = () => {\n  //     navigate(-1);\n  //   };\n\n  if (error) {\n    //error message\n  }\n\n  if (movieDetails.genres && movieDetails.poster_path) {\n    avg_votes = movieDetails.vote_average.toFixed(2);\n    imgSrc = `${base.baseImgPath}/${movieDetails.poster_path}`;\n    genres = [...movieDetails.genres].map(genre => genre.name).join(', ');\n  }\n\n  return (\n    <main className={css.movie}>\n      {isLoading && <Spinner />}\n      <Link to={backLinkHref} className={css.movieLink}>\n        &lt; Go back\n      </Link>\n      {/* <button onClick={handleClick}> Go back</button> */}\n      <div className={css.movieWrapper}>\n        <img\n          src={imgSrc}\n          alt={movieDetails.title}\n          className={css.movieImg}\n        ></img>\n        <div className={css.movieDesc}>\n          <h1 className={css.movieDescTitle}>{movieDetails.title}</h1>\n          <span className={css.movieDescInfo}>User Score: {avg_votes} </span>\n          <h2 className={css.movieDescCategory}>Overview</h2>\n          <span className={css.movieDescInfo}>{movieDetails.overview}</span>\n          <h2 className={css.movieDescCategory}>Genres</h2>\n          <span className={css.movieDescInfo}>{genres}</span>\n        </div>\n      </div>\n      <section className={css.movieOthers}>\n        <span>Additional information:</span>\n        <ul className={css.movieOthersList}>\n          <li className={css.movieOthersListItem}>\n            <StyledMovieLink to=\"cast\" className={css.movieOthersListLink}>\n              Cast\n            </StyledMovieLink>\n          </li>\n          <li className={css.movieOthersListItem}>\n            <StyledMovieLink to=\"reviews\" className={css.movieOthersListLink}>\n              Reviews\n            </StyledMovieLink>\n          </li>\n        </ul>\n      </section>\n      <section>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Outlet />\n        </Suspense>\n      </section>\n    </main>\n  );\n};\n\nexport default MovieDetails;\n\nMovieDetails.propTypes = {\n  movieReviews: PropTypes.array,\n  imgSrc: PropTypes.string,\n  isLoading: PropTypes.bool,\n  error: PropTypes.string,\n  title: PropTypes.string,\n  avg_votes: PropTypes.number,\n  overview: PropTypes.string,\n  genres: PropTypes.string,\n};\n"],"names":["className","css","height","width","radius","color","ariaLabel","wrapperClass","wrapperStyle","visible","fetchMovie","url","axios","response","movie_id","useState","movieDetails","setMovieDetails","isLoading","setIsLoading","error","setError","useEffect","fetchMovieDetails","concat","base","data","Error","message","StyledMovieLink","styled","NavLink","movieID","useParams","useMovieDetails","backLinkHref","useLocation","state","from","avg_votes","imgSrc","genres","poster_path","vote_average","toFixed","map","genre","name","join","Spinner","to","src","alt","title","overview","Suspense","fallback"],"sourceRoot":""}